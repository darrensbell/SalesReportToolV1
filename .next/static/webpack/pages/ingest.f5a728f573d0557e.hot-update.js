"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/ingest",{

/***/ "./src/components/CSVImportModal.js":
/*!******************************************!*\
  !*** ./src/components/CSVImportModal.js ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CSVImportModal; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-modal */ \"./node_modules/react-modal/lib/index.js\");\n/* harmony import */ var react_modal__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_modal__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! papaparse */ \"./node_modules/papaparse/papaparse.min.js\");\n/* harmony import */ var papaparse__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(papaparse__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/supabaseClient */ \"./src/lib/supabaseClient.js\");\n/* harmony import */ var _styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/styles/CSVImportModal.module.css */ \"./src/styles/CSVImportModal.module.css\");\n/* harmony import */ var _styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5__);\n\nvar _s = $RefreshSig$();\n\n\n\n\n\nreact_modal__WEBPACK_IMPORTED_MODULE_2___default().setAppElement(\"#__next\");\nfunction CSVImportModal(param) {\n    let { isOpen, onRequestClose, onImport } = param;\n    _s();\n    const [file, setFile] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [fileName, setFileName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [notification, setNotification] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        message: \"\",\n        type: \"\"\n    });\n    const handleFileChange = (e)=>{\n        const chosenFile = e.target.files[0];\n        if (chosenFile) {\n            setFile(chosenFile);\n            setFileName(chosenFile.name);\n            setNotification({\n                message: \"\",\n                type: \"\"\n            });\n        }\n    };\n    const handleImport = async ()=>{\n        if (!file) {\n            setNotification({\n                message: \"Please select a file to import.\",\n                type: \"error\"\n            });\n            return;\n        }\n        const headerMapping = {\n            \"Transaction Completed Date Time\": \"transaction_completed_date_time\",\n            \"Event Name\": \"event_name\",\n            \"Channel Name\": \"channel_name\",\n            \"Price Band Name\": \"price_band_name\",\n            \"Performance Date Time\": \"performance_date_time\",\n            \"Performance Start Time\": \"performance_start_time\",\n            \"Transaction Completed At\": \"transaction_completed_at\",\n            \"Sold Tickets\": \"sold_tickets\",\n            \"Comp Tickets\": \"comp_tickets\",\n            \"Sold Gross Value\": \"sold_gross_value\"\n        };\n        papaparse__WEBPACK_IMPORTED_MODULE_3___default().parse(file, {\n            header: true,\n            skipEmptyLines: true,\n            complete: async (results)=>{\n                const mappedData = results.data.map((row)=>{\n                    const newRow = {};\n                    for(const key in row){\n                        if (headerMapping[key.trim()]) {\n                            const value = row[key];\n                            newRow[headerMapping[key.trim()]] = value === \"\" ? null : value;\n                        }\n                    }\n                    // Derive show_time from performance_start_time\n                    if (newRow.performance_start_time) {\n                        const hour = parseInt(newRow.performance_start_time.split(\":\")[0], 10);\n                        newRow.show_time = hour < 17 ? \"Matinee\" : \"Evening\";\n                    } else {\n                        newRow.show_time = null;\n                    }\n                    return newRow;\n                });\n                const filteredData = mappedData.filter((row)=>Object.values(row).some((val)=>val !== null && val !== \"\"));\n                if (filteredData.length > 0) {\n                    // Upsert shows, filtering out any that couldn't have a show_time derived\n                    const showsToUpsert = filteredData.filter((item)=>item.event_name && item.show_time).map((item)=>({\n                            event_name: item.event_name,\n                            show_time: item.show_time\n                        }));\n                    const uniqueShows = [\n                        ...new Map(showsToUpsert.map((item)=>[\n                                \"\".concat(item.event_name, \"-\").concat(item.show_time),\n                                item\n                            ])).values()\n                    ];\n                    if (uniqueShows.length > 0) {\n                        const { error: showsError } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"shows\").upsert(uniqueShows, {\n                            onConflict: \"event_name,show_time\"\n                        });\n                        if (showsError) {\n                            console.error(\"Error upserting shows:\", showsError);\n                            setNotification({\n                                message: \"Error upserting shows: \".concat(showsError.message),\n                                type: \"error\"\n                            });\n                            return;\n                        }\n                    }\n                    const { error } = await _lib_supabaseClient__WEBPACK_IMPORTED_MODULE_4__.supabase.from(\"sales\").insert(filteredData);\n                    if (error) {\n                        console.error(\"Error inserting data:\", error);\n                        setNotification({\n                            message: \"Error inserting data: \".concat(error.message),\n                            type: \"error\"\n                        });\n                    } else {\n                        setNotification({\n                            message: \"Data imported successfully!\",\n                            type: \"success\"\n                        });\n                        onImport();\n                        setTimeout(()=>{\n                            onRequestClose();\n                            setNotification({\n                                message: \"\",\n                                type: \"\"\n                            });\n                        }, 2000);\n                    }\n                } else {\n                    setNotification({\n                        message: \"No data to import. The CSV file may be empty or the headers do not match.\",\n                        type: \"error\"\n                    });\n                }\n            },\n            error: (error)=>{\n                console.error(\"Error parsing CSV:\", error);\n                setNotification({\n                    message: \"Error parsing CSV file. See console for details.\",\n                    type: \"error\"\n                });\n            }\n        });\n    };\n    const handleClose = ()=>{\n        setFile(null);\n        setFileName(\"\");\n        setNotification({\n            message: \"\",\n            type: \"\"\n        });\n        onRequestClose();\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((react_modal__WEBPACK_IMPORTED_MODULE_2___default()), {\n        isOpen: isOpen,\n        onRequestClose: handleClose,\n        contentLabel: \"Import CSV\",\n        className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().modalContent),\n        overlayClassName: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().modalOverlay),\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().modalTitle),\n                children: \"Import CSV\"\n            }, void 0, false, {\n                fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                lineNumber: 123,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().fileInputLabel),\n                children: [\n                    \"Choose File\",\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                        type: \"file\",\n                        accept: \".csv\",\n                        onChange: handleFileChange,\n                        className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().fileInput)\n                    }, void 0, false, {\n                        fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                        lineNumber: 126,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                lineNumber: 124,\n                columnNumber: 7\n            }, this),\n            fileName && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().fileName),\n                children: fileName\n            }, void 0, false, {\n                fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                lineNumber: 133,\n                columnNumber: 20\n            }, this),\n            notification.message && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"\".concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().notification), \" \").concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default())[notification.type]),\n                children: notification.message\n            }, void 0, false, {\n                fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                lineNumber: 136,\n                columnNumber: 9\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().buttonContainer),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleImport,\n                        className: \"\".concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().button), \" \").concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().importButton)),\n                        disabled: !file,\n                        children: \"Import\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                        lineNumber: 142,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleClose,\n                        className: \"\".concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().button), \" \").concat((_styles_CSVImportModal_module_css__WEBPACK_IMPORTED_MODULE_5___default().closeButton)),\n                        children: \"Close\"\n                    }, void 0, false, {\n                        fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                        lineNumber: 149,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n                lineNumber: 141,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/home/user/dbce/src/components/CSVImportModal.js\",\n        lineNumber: 116,\n        columnNumber: 5\n    }, this);\n}\n_s(CSVImportModal, \"V/n8aeIcnAzaCDX5Gx2qlxDO1+k=\");\n_c = CSVImportModal;\nvar _c;\n$RefreshReg$(_c, \"CSVImportModal\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUVDLFNBQVM7WUFBSUMsTUFBTTtRQUFHO1FBQ3hDVDtJQUNGO0lBRUEscUJBQ0UsOERBQUNQLG9EQUFLQTtRQUNKTSxRQUFRQTtRQUNSQyxnQkFBZ0J3RDtRQUNoQkMsY0FBYTtRQUNiQyxXQUFXOUQsdUZBQW1CO1FBQzlCZ0Usa0JBQWtCaEUsdUZBQW1COzswQkFFckMsOERBQUNrRTtnQkFBR0osV0FBVzlELHFGQUFpQjswQkFBRTs7Ozs7OzBCQUNsQyw4REFBQ29FO2dCQUFNTixXQUFXOUQseUZBQXFCOztvQkFBRTtrQ0FFdkMsOERBQUNzRTt3QkFDQ3pELE1BQUs7d0JBQ0wwRCxRQUFPO3dCQUNQQyxVQUFVMUQ7d0JBQ1ZnRCxXQUFXOUQsb0ZBQWdCOzs7Ozs7Ozs7Ozs7WUFHOUJRLDBCQUFZLDhEQUFDa0U7Z0JBQUVaLFdBQVc5RCxtRkFBZTswQkFBR1E7Ozs7OztZQUU1Q0UsYUFBYUUsT0FBTyxrQkFDbkIsOERBQUMrRDtnQkFBSWIsV0FBVyxHQUEwQjlELE9BQXZCQSx1RkFBbUIsRUFBQyxLQUE2QixPQUExQkEsMEVBQU0sQ0FBQ1UsYUFBYUcsSUFBSSxDQUFDOzBCQUNoRUgsYUFBYUUsT0FBTzs7Ozs7OzBCQUl6Qiw4REFBQytEO2dCQUFJYixXQUFXOUQsMEZBQXNCOztrQ0FDcEMsOERBQUM2RTt3QkFDQ0MsU0FBUzFEO3dCQUNUMEMsV0FBVyxHQUFvQjlELE9BQWpCQSxpRkFBYSxFQUFDLEtBQXVCLE9BQXBCQSx1RkFBbUI7d0JBQ2xEZ0YsVUFBVSxDQUFDMUU7a0NBQ1o7Ozs7OztrQ0FHRCw4REFBQ3VFO3dCQUNDQyxTQUFTbEI7d0JBQ1RFLFdBQVcsR0FBb0I5RCxPQUFqQkEsaUZBQWEsRUFBQyxLQUFzQixPQUFuQkEsc0ZBQWtCO2tDQUFJOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFNL0Q7R0FuSndCRTtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9DU1ZJbXBvcnRNb2RhbC5qcz9lODU4Il0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgTW9kYWwgZnJvbSAncmVhY3QtbW9kYWwnO1xuaW1wb3J0IFBhcGEgZnJvbSAncGFwYXBhcnNlJztcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnQC9saWIvc3VwYWJhc2VDbGllbnQnO1xuaW1wb3J0IHN0eWxlcyBmcm9tICdAL3N0eWxlcy9DU1ZJbXBvcnRNb2RhbC5tb2R1bGUuY3NzJztcblxuTW9kYWwuc2V0QXBwRWxlbWVudCgnI19fbmV4dCcpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBDU1ZJbXBvcnRNb2RhbCh7IGlzT3Blbiwgb25SZXF1ZXN0Q2xvc2UsIG9uSW1wb3J0IH0pIHtcbiAgY29uc3QgW2ZpbGUsIHNldEZpbGVdID0gdXNlU3RhdGUobnVsbCk7XG4gIGNvbnN0IFtmaWxlTmFtZSwgc2V0RmlsZU5hbWVdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbbm90aWZpY2F0aW9uLCBzZXROb3RpZmljYXRpb25dID0gdXNlU3RhdGUoeyBtZXNzYWdlOiAnJywgdHlwZTogJycgfSk7XG5cbiAgY29uc3QgaGFuZGxlRmlsZUNoYW5nZSA9IChlKSA9PiB7XG4gICAgY29uc3QgY2hvc2VuRmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdO1xuICAgIGlmIChjaG9zZW5GaWxlKSB7XG4gICAgICBzZXRGaWxlKGNob3NlbkZpbGUpO1xuICAgICAgc2V0RmlsZU5hbWUoY2hvc2VuRmlsZS5uYW1lKTtcbiAgICAgIHNldE5vdGlmaWNhdGlvbih7IG1lc3NhZ2U6ICcnLCB0eXBlOiAnJyB9KTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1wb3J0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZmlsZSkge1xuICAgICAgc2V0Tm90aWZpY2F0aW9uKHsgbWVzc2FnZTogJ1BsZWFzZSBzZWxlY3QgYSBmaWxlIHRvIGltcG9ydC4nLCB0eXBlOiAnZXJyb3InIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGhlYWRlck1hcHBpbmcgPSB7XG4gICAgICAgICdUcmFuc2FjdGlvbiBDb21wbGV0ZWQgRGF0ZSBUaW1lJzogJ3RyYW5zYWN0aW9uX2NvbXBsZXRlZF9kYXRlX3RpbWUnLFxuICAgICAgICAnRXZlbnQgTmFtZSc6ICdldmVudF9uYW1lJyxcbiAgICAgICAgJ0NoYW5uZWwgTmFtZSc6ICdjaGFubmVsX25hbWUnLFxuICAgICAgICAnUHJpY2UgQmFuZCBOYW1lJzogJ3ByaWNlX2JhbmRfbmFtZScsXG4gICAgICAgICdQZXJmb3JtYW5jZSBEYXRlIFRpbWUnOiAncGVyZm9ybWFuY2VfZGF0ZV90aW1lJyxcbiAgICAgICAgJ1BlcmZvcm1hbmNlIFN0YXJ0IFRpbWUnOiAncGVyZm9ybWFuY2Vfc3RhcnRfdGltZScsXG4gICAgICAgICdUcmFuc2FjdGlvbiBDb21wbGV0ZWQgQXQnOiAndHJhbnNhY3Rpb25fY29tcGxldGVkX2F0JyxcbiAgICAgICAgJ1NvbGQgVGlja2V0cyc6ICdzb2xkX3RpY2tldHMnLFxuICAgICAgICAnQ29tcCBUaWNrZXRzJzogJ2NvbXBfdGlja2V0cycsXG4gICAgICAgICdTb2xkIEdyb3NzIFZhbHVlJzogJ3NvbGRfZ3Jvc3NfdmFsdWUnLFxuICAgIH07XG5cbiAgICBQYXBhLnBhcnNlKGZpbGUsIHtcbiAgICAgIGhlYWRlcjogdHJ1ZSxcbiAgICAgIHNraXBFbXB0eUxpbmVzOiB0cnVlLFxuICAgICAgY29tcGxldGU6IGFzeW5jIChyZXN1bHRzKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcHBlZERhdGEgPSByZXN1bHRzLmRhdGEubWFwKHJvdyA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Um93ID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gcm93KSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVyTWFwcGluZ1trZXkudHJpbSgpXSkge1xuICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJvd1trZXldO1xuICAgICAgICAgICAgICBuZXdSb3dbaGVhZGVyTWFwcGluZ1trZXkudHJpbSgpXV0gPSB2YWx1ZSA9PT0gJycgPyBudWxsIDogdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIERlcml2ZSBzaG93X3RpbWUgZnJvbSBwZXJmb3JtYW5jZV9zdGFydF90aW1lXG4gICAgICAgICAgaWYgKG5ld1Jvdy5wZXJmb3JtYW5jZV9zdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgIGNvbnN0IGhvdXIgPSBwYXJzZUludChuZXdSb3cucGVyZm9ybWFuY2Vfc3RhcnRfdGltZS5zcGxpdCgnOicpWzBdLCAxMCk7XG4gICAgICAgICAgICAgIG5ld1Jvdy5zaG93X3RpbWUgPSBob3VyIDwgMTcgPyAnTWF0aW5lZScgOiAnRXZlbmluZyc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbmV3Um93LnNob3dfdGltZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXdSb3c7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRGF0YSA9IG1hcHBlZERhdGEuZmlsdGVyKHJvdyA9PiBPYmplY3QudmFsdWVzKHJvdykuc29tZSh2YWwgPT4gdmFsICE9PSBudWxsICYmIHZhbCAhPT0gJycpKTtcblxuICAgICAgICBpZiAoZmlsdGVyZWREYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAvLyBVcHNlcnQgc2hvd3MsIGZpbHRlcmluZyBvdXQgYW55IHRoYXQgY291bGRuJ3QgaGF2ZSBhIHNob3dfdGltZSBkZXJpdmVkXG4gICAgICAgICAgY29uc3Qgc2hvd3NUb1Vwc2VydCA9IGZpbHRlcmVkRGF0YVxuICAgICAgICAgICAgLmZpbHRlcihpdGVtID0+IGl0ZW0uZXZlbnRfbmFtZSAmJiBpdGVtLnNob3dfdGltZSlcbiAgICAgICAgICAgIC5tYXAoaXRlbSA9PiAoeyBldmVudF9uYW1lOiBpdGVtLmV2ZW50X25hbWUsIHNob3dfdGltZTogaXRlbS5zaG93X3RpbWUgfSkpO1xuXG4gICAgICAgICAgY29uc3QgdW5pcXVlU2hvd3MgPSBbLi4ubmV3IE1hcChzaG93c1RvVXBzZXJ0Lm1hcChpdGVtID0+IFtgJHtpdGVtLmV2ZW50X25hbWV9LSR7aXRlbS5zaG93X3RpbWV9YCwgaXRlbV0pKS52YWx1ZXMoKV07XG5cbiAgICAgICAgICBpZiAodW5pcXVlU2hvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb25zdCB7IGVycm9yOiBzaG93c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5mcm9tKCdzaG93cycpLnVwc2VydCh1bmlxdWVTaG93cywgeyBvbkNvbmZsaWN0OiAnZXZlbnRfbmFtZSxzaG93X3RpbWUnIH0pO1xuICAgICAgICAgICAgICBpZiAoc2hvd3NFcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwc2VydGluZyBzaG93czonLCBzaG93c0Vycm9yKTtcbiAgICAgICAgICAgICAgICBzZXROb3RpZmljYXRpb24oeyBtZXNzYWdlOiBgRXJyb3IgdXBzZXJ0aW5nIHNob3dzOiAke3Nob3dzRXJyb3IubWVzc2FnZX1gLCB0eXBlOiAnZXJyb3InIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmZyb20oJ3NhbGVzJykuaW5zZXJ0KGZpbHRlcmVkRGF0YSk7XG5cbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluc2VydGluZyBkYXRhOicsIGVycm9yKTtcbiAgICAgICAgICAgIHNldE5vdGlmaWNhdGlvbih7IG1lc3NhZ2U6IGBFcnJvciBpbnNlcnRpbmcgZGF0YTogJHtlcnJvci5tZXNzYWdlfWAsIHR5cGU6ICdlcnJvcicgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldE5vdGlmaWNhdGlvbih7IG1lc3NhZ2U6ICdEYXRhIGltcG9ydGVkIHN1Y2Nlc3NmdWxseSEnLCB0eXBlOiAnc3VjY2VzcycgfSk7XG4gICAgICAgICAgICBvbkltcG9ydCgpO1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIG9uUmVxdWVzdENsb3NlKCk7XG4gICAgICAgICAgICAgIHNldE5vdGlmaWNhdGlvbih7IG1lc3NhZ2U6ICcnLCB0eXBlOiAnJyB9KTtcbiAgICAgICAgICAgIH0sIDIwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXROb3RpZmljYXRpb24oeyBtZXNzYWdlOiAnTm8gZGF0YSB0byBpbXBvcnQuIFRoZSBDU1YgZmlsZSBtYXkgYmUgZW1wdHkgb3IgdGhlIGhlYWRlcnMgZG8gbm90IG1hdGNoLicsIHR5cGU6ICdlcnJvcicgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvcjogKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHBhcnNpbmcgQ1NWOicsIGVycm9yKTtcbiAgICAgICAgc2V0Tm90aWZpY2F0aW9uKHsgbWVzc2FnZTogJ0Vycm9yIHBhcnNpbmcgQ1NWIGZpbGUuIFNlZSBjb25zb2xlIGZvciBkZXRhaWxzLicsIHR5cGU6ICdlcnJvcicgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQ2xvc2UgPSAoKSA9PiB7XG4gICAgc2V0RmlsZShudWxsKTtcbiAgICBzZXRGaWxlTmFtZSgnJyk7XG4gICAgc2V0Tm90aWZpY2F0aW9uKHsgbWVzc2FnZTogJycsIHR5cGU6ICcnIH0pO1xuICAgIG9uUmVxdWVzdENsb3NlKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8TW9kYWxcbiAgICAgIGlzT3Blbj17aXNPcGVufVxuICAgICAgb25SZXF1ZXN0Q2xvc2U9e2hhbmRsZUNsb3NlfVxuICAgICAgY29udGVudExhYmVsPVwiSW1wb3J0IENTVlwiXG4gICAgICBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbENvbnRlbnR9XG4gICAgICBvdmVybGF5Q2xhc3NOYW1lPXtzdHlsZXMubW9kYWxPdmVybGF5fVxuICAgID5cbiAgICAgIDxoMiBjbGFzc05hbWU9e3N0eWxlcy5tb2RhbFRpdGxlfT5JbXBvcnQgQ1NWPC9oMj5cbiAgICAgIDxsYWJlbCBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXRMYWJlbH0+XG4gICAgICAgIENob29zZSBGaWxlXG4gICAgICAgIDxpbnB1dFxuICAgICAgICAgIHR5cGU9XCJmaWxlXCJcbiAgICAgICAgICBhY2NlcHQ9XCIuY3N2XCJcbiAgICAgICAgICBvbkNoYW5nZT17aGFuZGxlRmlsZUNoYW5nZX1cbiAgICAgICAgICBjbGFzc05hbWU9e3N0eWxlcy5maWxlSW5wdXR9XG4gICAgICAgIC8+XG4gICAgICA8L2xhYmVsPlxuICAgICAge2ZpbGVOYW1lICYmIDxwIGNsYXNzTmFtZT17c3R5bGVzLmZpbGVOYW1lfT57ZmlsZU5hbWV9PC9wPn1cbiAgICAgIFxuICAgICAge25vdGlmaWNhdGlvbi5tZXNzYWdlICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9e2Ake3N0eWxlcy5ub3RpZmljYXRpb259ICR7c3R5bGVzW25vdGlmaWNhdGlvbi50eXBlXX1gfT5cbiAgICAgICAgICB7bm90aWZpY2F0aW9uLm1lc3NhZ2V9XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5idXR0b25Db250YWluZXJ9PlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17aGFuZGxlSW1wb3J0fVxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmJ1dHRvbn0gJHtzdHlsZXMuaW1wb3J0QnV0dG9ufWB9XG4gICAgICAgICAgZGlzYWJsZWQ9eyFmaWxlfVxuICAgICAgICA+IFxuICAgICAgICAgIEltcG9ydFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUNsb3NlfVxuICAgICAgICAgIGNsYXNzTmFtZT17YCR7c3R5bGVzLmJ1dHRvbn0gJHtzdHlsZXMuY2xvc2VCdXR0b259YH0+XG4gICAgICAgICAgQ2xvc2VcbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L01vZGFsPlxuICApO1xufVxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwiTW9kYWwiLCJQYXBhIiwic3VwYWJhc2UiLCJzdHlsZXMiLCJzZXRBcHBFbGVtZW50IiwiQ1NWSW1wb3J0TW9kYWwiLCJpc09wZW4iLCJvblJlcXVlc3RDbG9zZSIsIm9uSW1wb3J0IiwiZmlsZSIsInNldEZpbGUiLCJmaWxlTmFtZSIsInNldEZpbGVOYW1lIiwibm90aWZpY2F0aW9uIiwic2V0Tm90aWZpY2F0aW9uIiwibWVzc2FnZSIsInR5cGUiLCJoYW5kbGVGaWxlQ2hhbmdlIiwiZSIsImNob3NlbkZpbGUiLCJ0YXJnZXQiLCJmaWxlcyIsIm5hbWUiLCJoYW5kbGVJbXBvcnQiLCJoZWFkZXJNYXBwaW5nIiwicGFyc2UiLCJoZWFkZXIiLCJza2lwRW1wdHlMaW5lcyIsImNvbXBsZXRlIiwicmVzdWx0cyIsIm1hcHBlZERhdGEiLCJkYXRhIiwibWFwIiwicm93IiwibmV3Um93Iiwia2V5IiwidHJpbSIsInZhbHVlIiwicGVyZm9ybWFuY2Vfc3RhcnRfdGltZSIsImhvdXIiLCJwYXJzZUludCIsInNwbGl0Iiwic2hvd190aW1lIiwiZmlsdGVyZWREYXRhIiwiZmlsdGVyIiwiT2JqZWN0IiwidmFsdWVzIiwic29tZSIsInZhbCIsImxlbmd0aCIsInNob3dzVG9VcHNlcnQiLCJpdGVtIiwiZXZlbnRfbmFtZSIsInVuaXF1ZVNob3dzIiwiTWFwIiwiZXJyb3IiLCJzaG93c0Vycm9yIiwiZnJvbSIsInVwc2VydCIsIm9uQ29uZmxpY3QiLCJjb25zb2xlIiwiaW5zZXJ0Iiwic2V0VGltZW91dCIsImhhbmRsZUNsb3NlIiwiY29udGVudExhYmVsIiwiY2xhc3NOYW1lIiwibW9kYWxDb250ZW50Iiwib3ZlcmxheUNsYXNzTmFtZSIsIm1vZGFsT3ZlcmxheSIsImgyIiwibW9kYWxUaXRsZSIsImxhYmVsIiwiZmlsZUlucHV0TGFiZWwiLCJpbnB1dCIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiZmlsZUlucHV0IiwicCIsImRpdiIsImJ1dHRvbkNvbnRhaW5lciIsImJ1dHRvbiIsIm9uQ2xpY2siLCJpbXBvcnRCdXR0b24iLCJkaXNhYmxlZCIsImNsb3NlQnV0dG9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/CSVImportModal.js\n"));

/***/ })

});